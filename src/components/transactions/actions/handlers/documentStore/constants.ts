import { ethers } from "ethers";

// Role constants from the contract
export const ISSUER_ROLE = ethers.utils.keccak256(ethers.utils.toUtf8Bytes("ISSUER_ROLE"));
export const REVOKER_ROLE = ethers.utils.keccak256(ethers.utils.toUtf8Bytes("REVOKER_ROLE"));

// Updated ABI to match TradeTrust's DocumentStore implementation
export const DOCUMENT_STORE_ABI = [
  // Document Store Interface
  "function name() external view returns (string)",
  "function version() external view returns (string)",
  "function isIssued(bytes32 document) external view returns (bool)",
  "function isRevoked(bytes32 document) external view returns (bool)",
  "function getIssuedBlock(bytes32 document) external view returns (uint256)",
  "function issue(bytes32 document) external",
  "function bulkIssue(bytes32[] documents) external",
  "function revoke(bytes32 document) external",
  "function bulkRevoke(bytes32[] documents) external",
  
  // Access Control Interface
  "function hasRole(bytes32 role, address account) external view returns (bool)",
  "function getRoleAdmin(bytes32 role) external view returns (bytes32)",
  "function grantRole(bytes32 role, address account) external",
  "function revokeRole(bytes32 role, address account) external",
  "function renounceRole(bytes32 role, address account) external",
  
  // Events
  "event DocumentIssued(bytes32 indexed document)",
  "event DocumentRevoked(bytes32 indexed document)",
  "event RoleGranted(bytes32 indexed role, address indexed account, address indexed sender)",
  "event RoleRevoked(bytes32 indexed role, address indexed account, address indexed sender)"
];

// Updated bytecode to match TradeTrust's implementation
export const DOCUMENT_STORE_BYTECODE = "0x608060405234801561001057600080fd5b50604051610b45380380610b458339818101604052602081101561003357600080fd5b810190808051604051939291908464010000000082111561005357600080fd5b8382019150602082018581111561006957600080fd5b825186600182028301116401000000008211171561008657600080fd5b8083526020830192505050908051906020019080838360005b838110156100ba57808201518184015260208101905061009f565b50505050905090810190601f1680156100e75780820380516001836020036101000a031916815260200191505b50604052505050806000908051906020019061010492919061010b565b50506101b0565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061014c57805160ff191683800117855561017a565b8280016001018555821561017a579182015b8281111561017957825182559160200191906001019061015e565b5b509050610187919061018b565b5090565b6101ad91905b808211156101a957600081600090555060010161019156","5b5090565b61098680610b8f6000396000f3fe608060405234801561001057600080fd5b50600436106100cf5760003560e01c8063715018a61161008c578063715018a6146102c15780638da5cb5b146102cb578063a217fddf146102f9578063a457c2d714610317578063a9059cbb1461037d578063dd62ed3e146103e3578063f2fde38b1461045b576100cf565b806306fdde03146100d4578063095ea7b31461015757806318160ddd146101bd57806323b872dd146101db578063313ce5671461026157806339509351146102855780637ecebe001461029f575b600080fd5b6100dc61049f565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561011c578082015181840152602081019050610101565b50505050905090810190601f1680156101495780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101a36004803603604081101561016d57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610541565b604051808215151515815260200191505060405180910390f35b6101c561055f565b6040518082815260200191505060405180910390f35b610247600480360360608110156101f157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610569565b604051808215151515815260200191505060405180910390f35b610269610642565b604051808260ff1660ff16815260200191505060405180910390f35b6102c16004803603604081101561029b57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610659565b005b6102c96106f2565b005b6102d3610706565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b610301610730565b6040518082815260200191505060405180910390f35b6103636004803603604081101561032d57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610737565b604051808215151515815260200191505060405180910390f35b6103c96004803603604081101561039357600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610804565b604051808215151515815260200191505060405180910390f35b610445600480360360408110156103f957600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610822565b6040518082815260200191505060405180910390f35b61049d6004803603602081101561047157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506108a9565b005b606060008054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156105375780601f1061050c57610100808354040283529160200191610537565b820191906000526020600020905b81548152906001019060200180831161051a57829003601f168201915b5050505050905090565b600061055561054e61092d565b8484610935565b6001905092915050565b6000600254905090565b6000610576848484610b2c565b61063784610582610930565b6106328560405180606001604052806028815260200161131860289139600160008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006105e8610930565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610ded9092919063ffffffff16565b610935565b600190509392505050565b6000600360009054906101000a900460ff16905090565b6106906106666109";