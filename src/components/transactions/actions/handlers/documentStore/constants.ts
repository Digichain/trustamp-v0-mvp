import { ethers } from "ethers";

// Role constants from the contract
export const ISSUER_ROLE = ethers.utils.keccak256(ethers.utils.toUtf8Bytes("ISSUER_ROLE"));
export const REVOKER_ROLE = ethers.utils.keccak256(ethers.utils.toUtf8Bytes("REVOKER_ROLE"));

// Complete ABI from TradeTrust DocumentStore contract
export const DOCUMENT_STORE_ABI = [
  // View functions
  "function name() public view returns (string)",
  "function version() public view returns (string)",
  "function getIssuedBlock(bytes32 document) public view returns (uint256)",
  "function isIssued(bytes32 document) public view returns (bool)",
  "function isRevoked(bytes32 document) public view returns (bool)",
  
  // Document management functions
  "function issue(bytes32 document)",
  "function bulkIssue(bytes32[] documents)",
  "function revoke(bytes32 document)",
  "function bulkRevoke(bytes32[] documents)",
  
  // Access control functions
  "function hasRole(bytes32 role, address account) public view returns (bool)",
  "function getRoleAdmin(bytes32 role) public view returns (bytes32)",
  "function grantRole(bytes32 role, address account)",
  "function revokeRole(bytes32 role, address account)",
  "function renounceRole(bytes32 role, address account)",
  
  // Events
  "event DocumentIssued(bytes32 indexed document)",
  "event DocumentRevoked(bytes32 indexed document)",
  "event RoleGranted(bytes32 indexed role, address indexed account, address indexed sender)",
  "event RoleRevoked(bytes32 indexed role, address indexed account, address indexed sender)"
];

// Updated bytecode from TradeTrust implementation
export const DOCUMENT_STORE_BYTECODE = `0x608060405234801561001057600080fd5b506040516124d13803806124d183398181016040528101906100319190610583565b610041828261004860201b60201c565b50506109bf565b5f60019054906101000a900460ff168061006c57505f8054906101000a900460ff16155b6100ab576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100a29061065d565b60405180910390fd5b5f8060019054906101000a900460ff1615905080156100f85760015f60016101000a81548160ff02191690831515021790555060015f806101000a81548160ff0219169083151502179055505b6101078261013b60201b60201c565b6101168361021e60201b60201c565b8015610136575f8060016101000a81548160ff0219169083151502179055505b505050565b5f73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036101a9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101a0906106c5565b60405180910390fd5b6101bb5f801b8261027660201b60201c565b6101eb7f114e74f6ea3bd819998f78687bfcb11b140da08e9b7d222fa9c1f1ba1f2aa1228261027660201b60201c565b61021b7fce3f34913921da558f105cefb578d87278debbbd073a8d552b5de0d168deee308261027660201b60201c565b50565b6040518060400160405280600581526020017f322e332e300000000000000000000000000000000000000000000000000000008152506002908161026291906108f0565b50806001908161027291906108f0565b5050565b610286828261028a60201b60201c565b5050565b61029a828261037160201b60201c565b61036d57600160695f8481526020019081526020015f205f015f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f6101000a81548160ff0219169083151502179055506103126103d560201b60201c565b73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45b5050565b5f60695f8481526020019081526020015f205f015f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a900460ff16905092915050565b5f33905090565b5f604051905090565b5f80fd5b5f80fd5b5f80fd5b5f80fd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b61043b826103f5565b810181811067ffffffffffffffff8211171561045a57610459610405565b5b80604052505050565b5f61046c6103dc565b90506104788282610432565b919050565b5f67ffffffffffffffff82111561049757610496610405565b5b6104a0826103f5565b9050602081019050919050565b8281835e5f83830152505050565b5f6104cd6104c88461047d565b610463565b9050828152602081018484840111156104e9576104e86103f1565b5b6104f48482856104ad565b509392505050565b5f82601f8301126105105761050f6103ed565b5b81516105208482602086016104bb565b91505092915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f61055282610529565b9050919050565b61056281610548565b811461056c575f80fd5b50565b5f8151905061057d81610559565b92915050565b5f8060408385031215610599576105986103e5565b5b5f83015167ffffffffffffffff8111156105b6576105b56103e9565b5b6105c2858286016104fc565b92505060206105d38582860161056f565b9150509250929050565b5f82825260208201905092915050565b7f496e697469616c697a61626c653a20636f6e747261637420697320616c7265615f8201527f647920696e697469616c697a6564000000000000000000000000000000000000602082015250565b5f610647602e836105dd565b9150610652826105ed565b604082019050919050565b5f6020820190508181035f8301526106748161063b565b9050919050565b7f4f776e6572206973207a65726f000000000000000000000000000000000000005f82015250565b5f6106af600d836105dd565b91506106ba8261067b565b602082019050919050565b5f6020820190508181035f8301526106dc816106a3565b9050919050565b5f81519050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061073157607f821691505b602082108103610744576107436106ed565b5b50919050565b5f600282049050600182168061073157607f821691505b602082108103610744576107436106ed565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f600883026107a67fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8261076b565b6107b0868361076b565b95508019841693508086168417925050509392505050565b5f819050919050565b5f819050919050565b5f6107f46107ef6107ea846107c8565b6107d1565b6107c8565b9050919050565b5f819050919050565b61080d836107da565b610821610819826107fb565b848454610777565b825550505050565b5b81811015610863576108585f8261082d565b600181019050610846565b5050565b601f8211156108a8576108798161074a565b6108828461075c565b81016020851015610891578190505b6108a561089d8561075c565b830182610845565b50505b505050565b5f82821c905092915050565b5f6108c85f19846008026108ad565b1980831691505092915050565b5f6108e083836108b9565b9150826002028217905092915050565b6108f9826106e3565b67ffffffffffffffff81111561091257610911610405565b5b61091c825461071a565b610927828285610867565b5f60209050601f831160018114610958575f8415610946578287015190505b61095085826108d5565b8655506109b7565b601f1984166109668661074a565b5f5b8281101561098d57848901518255600182019150602085019450602081019050610968565b868310156109aa57848901516109a6601f8916826108b9565b8355505b6001600288020188555050505b505050505050565b611b05806109cc5f395ff3fe608060405234801561000f575f80fd5b50600436106100885760003560e01c8063715018a61161005b578063715018a6146100fd5780638da5cb5b14610107578063e8a3d48514610132578063f2fde38b1461015257610088565b8063141a468c1461008d5780631e2c15cb146100a25780634294857f146100b75780636d47f0e9146100e8575b5f80fd5b6100a061009b366004610407565b610165565b005b6100a06100b0366004610407565b6101e1565b6100d26100c5366004610407565b60016020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100a06100f6366004610407565b61025d565b6100a06102d9565b60005473ffffffffffffffffffffffffffffffffffffffff165b60405173ffffffffffffffffffffffffffffffffffffffff90911681526020016100df565b6100d2610140366004610407565b60006020819052908152604090205460ff1681565b6100a0610160366004610430565b6102ed565b60005473ffffffffffffffffffffffffffffffffffffffff16331461018957600080fd5b6000908152600160205260409020805460ff19166001179055807f7cc135e0cebb02c3480ae5d74d377283180a2601f8f644edf7987b009316c63a60405160405180910390a250565b60005473ffffffffffffffffffffffffffffffffffffffff16331461020557600080fd5b6000908152600160205260409020805460ff19169055807f2dc3c6ae3097f9c33e7100bcd4fe1d2e9d85c06c90526f7d5ed906e1b26894ad60405160405180910390a250565b60005473ffffffffffffffffffffffffffffffffffffffff16331461028157600080fd5b6000908152602081905260409020805460ff19166001179055807f5a981129dd3a99e4080f7413f9a722cb25f6f1fef691d39ea8369f5726385f1460405160405180910390a250565b6102e16103a1565b6102eb6000610422565b565b6102f56103a1565b73ffffffffffffffffffffffffffffffffffffffff811661039e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f646472657373000000000000000000000000000000000000000000000000000060648201526084015b60405180910390fd5b610397816103a4565b50565b6102eb6103a1565b60005473ffffffffffffffffffffffffffffffffffffffff1633146103c857600080fd5b600080547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff83169081179091556040519081527f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0906020015b60405180910390a150565b60006020828403121561041957600080fd5b5035919050565b60006020828403121561044257600080fd5b813573ffffffffffffffffffffffffffffffffffffffff8116811461046657600080fd5b939250505056fea26469706673582212207c5c5a8e6ef1f8c4b0b3f85c7a80e8a6c6c42ea4b3b93e5aaf4fb841201c529464736f6c63430008090033`;