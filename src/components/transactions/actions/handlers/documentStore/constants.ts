import { ethers } from "ethers";

// Complete ABI with all functions
export const DOCUMENT_STORE_ABI = [
  // Document management
  "function safeMint(address to, bytes32 merkleRoot) external",
  "function getMerkleRoot(uint256 tokenId) external view returns (bytes32)",
  "function isMerkleRootIssued(bytes32 merkleRoot) external view returns (bool)",
  
  // ERC721 functions
  "function balanceOf(address owner) external view returns (uint256)",
  "function ownerOf(uint256 tokenId) external view returns (address)",
  "function safeTransferFrom(address from, address to, uint256 tokenId) external",
  "function transferFrom(address from, address to, uint256 tokenId) external",
  "function approve(address to, uint256 tokenId) external",
  "function getApproved(uint256 tokenId) external view returns (address)",
  "function setApprovalForAll(address operator, bool approved) external",
  "function isApprovedForAll(address owner, operator) external view returns (bool)",
  
  // Ownership
  "function owner() external view returns (address)",
  "function transferOwnership(address newOwner) external",
  "function renounceOwnership() external"
];

// New bytecode for deployment verification
export const DOCUMENT_STORE_BYTECODE = "0x608060405234801561000f575f80fd5b50336040518060400160405280600d81526020017f446f63756d656e7453746f7265000000000000000000000000000000000000008152506040518060400160405280600381526020017f444f430000000000000000000000000000000000000000000000000000000000815250815f908161008b9190610420565b50806001908161009b9190610420565b5050505f73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff160361010e575f6040517f1e4fbdf7000000000000000000000000000000000000000000000000000000008152600401610105919061052e565b60405180910390fd5b61011d8161012360201b60201c565b50610547565b5f60065f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690508160065f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b5f81519050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061026157607f821691505b6020821081036102745761027361021d565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f600883026102d67fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8261029b565b6102e0868361029b565b95508019841693508086168417925050509392505050565b5f819050919050565b5f819050919050565b5f61032461031f61031a846102f8565b610301565b6102f8565b9050919050565b5f819050919050565b61033d8361030a565b6103516103498261032b565b8484546102a7565b825550505050565b5f90565b610365610359565b610370818484610334565b505050565b5b81811015610393576103885f8261035d565b600181019050610376565b5050565b601f8211156103d8576103a98161027a565b6103b28461028c565b810160208510156103c1578190505b6103d56103cd8561028c565b830182610375565b50505b505050565b5f82821c905092915050565b5f6103f85f19846008026103dd565b1980831691505092915050565b5f61041083836103e9565b9150826002028217905092915050565b610429826101e6565b67ffffffffffffffff811115610442576104416101f0565b5b61044c825461024a565b610457828285610397565b5f60209050601f831160018114610488575f8415610476578287015190505b6104808582610405565b8655506104e7565b601f1984166104968661027a565b5f5b828110156104bd57848901518255600182019150602085019450602081019050610498565b868310156104da57848901516104d6601f8916826103e9565b8355505b6001600288020188555050505b505050505050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f610518826104ef565b9050919050565b6105288161050e565b82525050565b5f6020820190506105415f83018461051f565b92915050565b6121f5806105545f395ff3fe608060405234801561000f575f80fd5b506004361061011f575f3560e01c806370a08231116100ab578063a22cb4651161006f578063a22cb46514610317578063b88d4fde14610333578063c87b56dd1461034f578063e985e9c51461037f578063f2fde38b146103af5761011f565b806370a0823114610271578063715018a6146102a1578063816bbc5a146102ab5780638da5cb5b146102db57806395d89b41146102f95761011f565b80630aab8ba5116100f25780630aab8ba5146101bd57806323b872dd146101ed57806342842e0e146102095780636352211e1461022557806367d51cc4146102555761011f565b806301ffc9a71461012357806306fdde0314610153578063081812fc14610171578063095ea7b3146101a1575b5f80fd5b61013d60048036038101906101389190611968565b6103cb565b60405161014a91906119ad565b60405180910390f35b61015b6104ac565b6040516101689190611a36565b60405180910390f35b61018b60048036038101906101869190611a89565b61053b565b6040516101989190611af3565b60405180910390f35b6101bb60048036038101906101b69190611b36565b610556565b005b6101d760048036038101906101d29190611a89565b61056c565b6040516101e49190611b8c565b60405180910390f35b61020760048036038101906102029190611ba5565b610586565b005b610223600480360381019061021e9190611ba5565b610685565b005b61023f600480360381019061023a9190611a89565b6106a4565b60405161024c9190611af3565b60405180910390f35b61026f600480360381019061026a9190611c1f565b6106b5565b005b61028b60048036038101906102869190611c5d565b6106fb565b6040516102989190611c97565b60405180910390f35b6102a96107b1565b005b6102c560048036038101906102c09190611cb0565b6107c4565b6040516102d291906119ad565b60405180910390f35b6102e361080d565b6040516102f09190611af3565b60405180910390f35b610301610835565b60405161030e9190611a36565b60405180910390f35b610331600480360381019061032c9190611d05565b6108c5565b005b61034d60048036038101906103489190611e6f565b6108db565b005b61036960048036038101906103649190611a89565b610900565b6040516103769190611a36565b60405180910390f35b61039960048036038101906103949190611eef565b610966565b6040516103a691906119ad565b60405180910390f35b6103c960048036038101906103c49190611c5d565b6109f4565b005b5f7f80ac58cd000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916148061049557507f5b5e139f000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b806104a557506104a482610a78565b5b9050919050565b60605f80546104ba90611f5a565b80601f01602080910402602001604051908101604052809291908181526020018280546104e690611f5a565b80156105315780601f1061050857610100808354040283529160200191610531565b820191905f5260205f20905b81548152906001019060200180831161051457829003601f168201915b5050505050905090565b5f61054582610ae1565b5061054f82610b67565b9050919050565b6105688282610563610ba0565b610ba7565b5050565b5f60075f8381526020019081526020015f20549050919050565b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036105f6575f6040517f64a0ae920000000000000000000000000000000000000000000000000000000081526004016105ed9190611af3565b60405180910390fd5b5f6106098383610604610ba0565b610bb9565b90508373ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161461067f578382826040517f64283d7b00000000000000000000000000000000000000000000000000000000815260040161067693929190611f8a565b60405180910390fd5b50505050565b61069f83838360405180602001604052805f8152506108db565b505050565b5f6106ae82610ae1565b9050919050565b6106bd610dc4565b5f60085f8154809291906106d090611fec565b9190505590508160075f8381526020019081526020015f20819055506106f68382610e4b565b505050565b5f8073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff160361076c575f6040517f89c62b640000000000000000000000000000000000000000000000000000000081526004016107639190611af3565b60405180910390fd5b60035f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20549050919050565b6107b9610dc4565b6107c25f610e68565b565b5f805f90505b600854811015610803578260075f8381526020019081526020015f2054036107f6576001915050610808565b80806001019150506107ca565b505f90505b919050565b5f60065f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60606001805461084490611f5a565b80601f016020809104026020016040519081016040528092919081815260200182805461087090611f5a565b80156108bb5780601f10610892576101008083540402835291602001916108bb565b820191905f5260205f20905b81548152906001019060200180831161089e57829003601f168201915b5050505050905090565b6108d76108d0610ba0565b8383610f2b565b5050565b6108e6848484610586565b6108fa6108f1610ba0565b85858585611094565b50505050565b606061090b82610ae1565b505f610915611240565b90505f8151116109335760405180602001604052805f81525061095e565b8061093d84611256565b60405160200161094e92919061206d565b6040516020818303038152906040525b915050919050565b5f60055f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a900460ff16905092915050565b6109fc610dc4565b5f73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603610a6c575f6040517f1e4fbdf7000000000000000000000000000000000000000000000000000000008152600401610a639190611af3565b60405180910390fd5b610a7581610e68565b50565b5f7f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149050919050565b5f80610aec83611320565b90505f73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603610b5e57826040517f7e273289000000000000000000000000000000000000000000000000000000008152600401610b559190611c97565b60405180910390fd5b80915050919050565b5f60045f8381526020019081526020015f205f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b5f33905090565b610bb48383836001611359565b505050565b5f80610bc484611320565b90505f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614610c0557610c04818486611518565b5b5f73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614610c9057610c445f855f80611359565b600160035f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f82825403925050819055505b5f73ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff1614610d0f57600160035f8773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f82825401925050819055505b8460025f8681526020019081526020015f205f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550838573ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4809150509392505050565b610dcc610ba0565b73ffffffffffffffffffffffffffffffffffffffff16610dea61080d565b73ffffffffffffffffffffffffffffffffffffffff1614610e4957610e0d610ba0565b6040517f118cdaa7000000000000000000000000000000000000000000000000000000008152600401610e409190611af3565b60405180910390fd5b565b610e64828260405180602001604052805f8152506115db565b5050565b5f60065f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690508160065f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610f9b57816040517f5b08ba18000000000000000000000000000000000000000000000000000000008152600401610f929190611af3565b60405180910390fd5b8060055f8573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f6101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c318360405161108791906119ad565b60405180910390a3505050565b5f8373ffffffffffffffffffffffffffffffffffffffff163b1115611239578273ffffffffffffffffffffffffffffffffffffffff1663150b7a02868685856040518563ffffffff1660e01b81526004016110f294939291906120e2565b6020604051808303815f875af192505050801561112d57506040513d601f19601f8201168201806040525081019061112a9190612140565b60015b6111ae573d805f811461115b576040519150601f19603f3d011682016040523d82523d5f602084013e611160565b606091505b505f8151036111a657836040517f64a0ae9200000000000000000000000000000000000000000000000000000000815260040161119d9190611af3565b60405180910390fd5b805181602001fd5b63150b7a0260e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161461123757836040517f64a0ae9200000000000000000000000000000000000000000000000000000000815260040161122e9190611af3565b60405180910390fd5b505b5050505050565b606060405180602001604052805f815250905090565b60605f6001611264846115fe565b0190505f8167ffffffffffffffff81111561128257611281611d4b565b5b6040519080825280601f01601f1916602001820160405280156112b45781602001600182028036833780820191505090505b5090505f82602001820190505b600115611315578080600190039150507f3031323334353637383961626364656600000000000000000000000000000000600a86061a8153600a858161130a5761130961216b565b5b0494505f85036112c1575b819350505050919050565b5f60025f8381526020019081526020015f205f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b808061139157505f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614155b156114c3575f6113a084610ae1565b90505f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415801561140a57508273ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614155b801561141d575061141b8184610966565b155b1561145f57826040517fa9fbf51f0000000000000000000000000000000000000000000000000000000081526004016114569190611af3565b60405180910390fd5b81156114c157838573ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45b505b8360045f8581526020019081526020015f205f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050505050565b61152383838361174f565b6115d6575f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff160361159757806040517f7e27328900000000000000000000000000000000000000000000000000000000815260040161158e9190611c97565b60405180910390fd5b81816040517f177e802f0000000000000000000000000000000000000000000000000000000081526004016115cd929190612198565b60405180910390fd5b505050565b6115e5838361180f565b6115f96115f0610ba0565b5f858585611094565b505050565b5f805f90507a184f03e93ff9f4daa797ed6e38ed64bf6a1f010000000000000000831061165a577a184f03e93ff9f4daa797ed6e38ed64bf6a1f01000000000000000083816116505761164f61216b565b5b0492506040810190505b6d04ee2d6d415b85acef81000000008310611697576d04ee2d6d415b85acef8100000000838161168d5761168c61216b565b5b0492506020810190505b662386f26fc1000083106116c657662386f26fc1000083816116bc576116bb61216b565b5b0492506010810190505b6305f5e10083106116ef576305f5e10083816116e5576116e461216b565b5b0492506008810190505b612710831061171457612710838161170a5761170961216b565b5b0492506004810190505b60648310611737576064838161172d5761172c61216b565b5b0492506002810190505b600a8310611746576001810190505b80915050919050565b5f8073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415801561180657508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1614806117c757506117c68484610966565b5b8061180557508273ffffffffffffffffffffffffffffffffffffffff166117ed83610b67565b73ffffffffffffffffffffffffffffffffffffffff16145b5b90509392505050565b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff160361187f575f6040517f64a0ae920000000000000000000000000000000000000000000000000000000081526004016118769190611af3565b60405180910390fd5b5f61188b83835f610bb9565b90505f73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16146118fd575f6040517f73c6ac6e0000000000000000000000000000000000000000000000000000000081526004016118f49190611af3565b60405180910390fd5b505050565b5f604051905090565b5f80fd5b5f80fd5b5f7fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b61194781611913565b8114611951575f80fd5b50565b5f813590506119628161193e565b92915050565b5f6020828403121561197d5761197c61190b565b5b5f61198a84828501611954565b91505092915050565b5f8115159050919050565b6119a781611993565b82525050565b5f6020820190506119c05f83018461199e565b92915050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f611a08826119c6565b611a1281856119d0565b9350611a228185602086016119e0565b611a2b816119ee565b840191505092915050565b5f6020820190508181035f830152611a4e81846119fe565b905092915050565b5f819050919050565b611a6881611a56565b8114611a72575f80fd5b50565b5f81359050611a8381611a5f565b92915050565b5f60208284031215611a9e57611a9d61190b565b5b5f611aab84828501611a75565b91505092915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f611add82611ab4565b9050919050565b611aed81611ad3565b82525050565b5f602082019050611b065f830184611ae4565b92915050565b611b1581611ad3565b8114611b1f575f80fd5b50565b5f81359050611b3081611b0c565b92915050565b5f8060408385031215611b4c57611b4b61190b565b5b5f611b5985828601611b22565b9250506020611b6a85828601611a75565b9150509250929050565b5f819050919050565b611b8681611b74565b82525050565b5f602082019050611b9f5f830184611b7d565b92915050565b5f805f60608486031215611bbc57611bbb61190b565b5b5f611bc986828701611b22565b9350506020611bda86828701611b22565b9250506040611beb86828701611a75565b9150509250925092565b611bfe81611b74565b8114611c08575f80fd5b50565b5f81359050611c1981611bf5565b92915050565b5f8060408385031215611c3557611c3461190b565b5b5f611c4285828601611b22565b9250506020611c5385828601611c0b565b9150509250929050565b5f60208284031215611c7257611c7161190b565b5b5f611c7f84828501611b22565b91505092915050565b611c9181611a56565b82525050565b5f602082019050611caa5f830184611c88565b92915050565b5f60208284031215611cc557611cc461190b565b5b5f611cd284828501611c0b565b91505092915050565b611ce481611993565b8114611cee575f80fd5b50565b5f81359050611cff81611cdb565b92915050565b5f8060408385031215611d1b57611d1a61190b565b5b5f611d2885828601611b22565b9250506020611d3985828601611cf1565b9150509250929050565b5f80fd5b5f80fd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b611d81826119ee565b810181811067ffffffffffffffff82111715611da057611d9f611d4b565b5b80604052505050565b5f611db2611902565b9050611dbe8282611d78565b919050565b5f67ffffffffffffffff821115611ddd57611ddc611d4b565b5b611de6826119ee565b9050602081019050919050565b828183375f83830152505050565b5f611e13611e0e84611dc3565b611da9565b905082815260208101848484011115611e2f57611e2e611d47565b5b611e3a848285611df3565b509392505050565b5f82601f830112611e5657611e55611d43565b5b8135611e66848260208601611e01565b91505092915050565b5f805f8060808587031215611e8757611e8661190b565b5b5f611e9487828801611b22565b9450506020611ea587828801611b22565b9350506040611eb687828801611a75565b925050606085013567ffffffffffffffff811115611ed757611ed661190f565b5b611ee387828801611e42565b91505092959194509250565b5f8060408385031215611f0557611f0461190b565b5b5f611f1285828601611b22565b9250506020611f2385828601611b22565b9150509250929050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f6002820490506001821680611f7157607f821691505b602082108103611f8457611f83611f2d565b5b50919050565b5f606082019050611f9d5f830186611ae4565b611faa6020830185611c88565b611fb76040830184611ae4565b949350505050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f611ff682611a56565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff820361202857612027611fbf565b5b600182019050919050565b5f81905092915050565b5f612047826119c6565b6120518185612033565b93506120618185602086016119e0565b80840191505092915050565b5f612078828561203d565b9150612084828461203d565b91508190509392505050565b5f81519050919050565b5f82825260208201905092915050565b5f6120b482612090565b6120be818561209a565b93506120ce8185602086016119e0565b6120d7816119ee565b840191505092915050565b5f6080820190506120f55f830187611ae4565b6121026020830186611ae4565b61210f6040830185611c88565b818103606083015261212181846120aa565b905095945050505050565b5f8151905061213a8161193e565b92915050565b5f602082840312156121555761215461190b565b5b5f6121628482850161212c565b91505092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601260045260245ffd5b5f6040820190506121ab5f830185611ae4565b6121b86020830184611c88565b939250505056fea264697066735822122005fa1ff6bbddc76ec6a4c135905ed2f9300067c9996dd575e7f700f25c22df2764736f6c634300081a0033";